<div style="min-height:calc(100vh - 158px); margin-bottom: 50px; overflow-x: hidden; position: relative;">
  <div class="header row">
    <div class="text-container col-10">
      <div class="container-title ">
        <h1 class="title">La carte</h1>
      </div>
      <div class="parent-text">
        <p class="text">
          Chaque mois nous changeons notre carte pour cuisiner des produits frais de saison issus de producteurs locaux.
          <br>Par exemple, nos pigeons viennent de l'élevage de Madame LE GUEN en dordogne.
          <br>Nos fruits et nos légumes proviennent essentiellement de maraichers locaux pratiquant une culture
          raisonnée mais parfois aussi du jardin de nos amis et de notre famille. Notre pain et nos glaces sont faits
          maison.
          <br> <br><b><i>C'est ce goût, cette fraicheur et cette qualité authentique des produits que nous souhaitons
              vous offrir.</i></b>
        </p>
      </div>
    </div>
  </div>
  <div>
    <mat-accordion *ngIf="isConnected()" class="accordion">
      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title class="creation">
            Création
          </mat-panel-title>
        </mat-expansion-panel-header>
        <div class="main-container row-cols-7">
          <form *ngIf="!loading" [formGroup]="foodForm">
            <div class="row col-12">
              <mat-form-field class="title">
                <input id="name" matInput type="desc" placeholder="Nom" autocomplete="Off" formControlName="nameControl"
                  maxlength="255" />
              </mat-form-field>
            </div>

            <div class="row col-12">
              <mat-form-field class="description">
                <textarea class="text" matInput type="textarea" placeholder="Description" autocomplete="Off"
                  formControlName="descriptionControl" maxlength="1000"></textarea>
              </mat-form-field>
            </div>

            <div class="row col-8">
              <div class="col-md-6 col-sm-12">
                <mat-form-field>
                  <mat-label>Type</mat-label>
                  <mat-select id="type-selector" formControlName="typeControl">
                    <mat-option class="myOption" *ngFor="let type of allTypes" [value]="type">
                      {{type.typeName}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
              <div class="col-md-6 col-sm-12" style="padding-top: 45px">
                <app-auto-complete (addElement)="getAllergenId($event)" [arrayPromise]="allergenPromise"
                  [myControl]="allergenControl" [creation]="true" [nameField]="true" [title]="title"
                  [service]="allergenService"></app-auto-complete>
              </div>
            </div>
            <div class="row" style=" display: flex; justify-content: center">
              <button *ngFor="let allergen of allergenNames;" mat-flat-button class="allergens-btn" color="primary"
                (click)="removeAllergen(allergen)">{{allergen}}</button>
            </div>

            <div class="row">
              <div class="check-container">
                <mat-checkbox (change)="toglle($event)" formControlName="displayControl">Ajouter à la carte
                </mat-checkbox>
              </div>
            </div>

            <div>
              <button id="create" mat-flat-button class="save" [disabled]="foodForm.invalid"
                (click)="save()">envoyer</button>
            </div>

          </form>
        </div>

      </mat-expansion-panel>
    </mat-accordion>
  </div>
  <div *ngIf="!loading" class="content-container">
    <div class="right-side">
      <div class="formules-container col-md-12 col-sm-12">
        <div class="row formula" *ngFor="let formula of formatedFormulas">
          <h3 class="formula-title">{{formula.formulaName}} {{formula.realPrice}} </h3>
          <div class="formula-body col-md-12  col-sm-12">
            <p>{{formula.description}}</p>
            <p></p>
          </div>
        </div>
      </div>
      <div class="pattern" id="reverse"></div>
    </div>

    <div class="list-container container-fluid" *ngIf="!loading">
      <div class="container-type" *ngFor="let type of allTypes">
        <h3 class="type-title">{{type.typeName}}</h3>
        <div class="line"></div>
        <div *ngFor="let food of type.foods ">
          <div *ngIf="food.display === true">
            <app-food-row [food]="food" (editData)="getFood()"></app-food-row>
          </div>
        </div>
      </div>
      <div class="list-container container-fluid" *ngIf="isConnected()" style="margin-bottom: 50px;">
        <h2 class="type-title" style="color: #da2018;">Menue caché</h2>
        <div class="container-type" *ngFor="let type of allTypes">
          <h3 class="type-title">{{type.typeName}}</h3>
          <div class="line"></div>
          <div *ngFor="let food of type.foods ">
            <div *ngIf="food.display === false">
              <app-food-row [food]="food" (editData)="getFood()"></app-food-row>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>